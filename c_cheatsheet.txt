#Declare variables where you need them
void function(void) {
    /* ... some code ... */
    
    double result = calculate_value();  // Declare when needed
    char buffer[100];
    
    for (int i = 0; i < 10; i++) {  // Loop variable declared in for()
        /* ... */
    }
    
    struct data *item = malloc(sizeof(*item));  // Declare right before use
}

#For-loop Initial Declarations
you can initialize multiple variables in a C for loop. 

    // Multiple initialization, multiple conditions, multiple increments
    for (int i = 0, j = 10; i < 5 && j > 5; i++, j--) {
        printf("i=%d, j=%d\n", i, j);
    /* i, j only exists within loop */
    }
    // i, j is not accessible here

#Designated Initializers (Very Useful for Structs/Arrays)
struct point p = {.x = 1, .y = 2, .z = 3};  // Clear and order-independent
struct point p2 = {.y = 5};  // x and z default to 0

int arr[5] = {[2] = 5, [4] = 3};  // Only initialize indices 2 and 4

#functions

##function prototype

/* Must specify parameter types */
int process_data(void);      // Explicitly no parameters
int find_max(int *array, int size);  // Full prototype required

/* Optional parameter names in prototypes */
int compare(const void *, const void *);  // Names optional


#pointers

##const
Key Rules to Remember

路 const TYPE* - Pointer to constant data
路 TYPE* const - Constant pointer to modifiable data
路 const TYPE* const - Constant pointer to constant data
路 const applies to whatever is immediately to its left (or right if nothing to left)

//Note how there is const modifier for the argv[]
int main(int argc, const char *argv[]) { /*...*/ }

//API design with const

// Good: const indicates input parameters won't be modified
size_t safe_string_length(const char* str) {
    if (str == NULL) return 0;
    return strlen(str);
}

// Good: const prevents modification of array elements
int find_max(const int arr[], size_t size) {
    if (size == 0) return -1;
    
    int max = arr[0];
    for (size_t i = 1; i < size; i++) {
        if (arr[i] > max) {
            max = arr[i];
        }
        // arr[i] = 0;  // ERROR: arr is const
    }
    return max;
}

// Good: const return value indicates caller shouldn't modify
const char* get_database_path() {
    return "/var/lib/myapp/database.db";
}

##function pointers
typedef int (*Calculator)(int, int);

int add(int a, int b) { return a + b; }
int subtract(int a, int b) { return a - b; }

##type cast point
#define UART0 ((HardwareModule*)0x4000C000)

